<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>羽球戰術討論板</title>
<style>
  :root{ --bg:#0b1222; --panel:#0f1b33; --border:#23324d; --text:#e5e7eb; --net-band:#2a2945; }
  *{box-sizing:border-box} html,body{height:100%;margin:0}
  body{display:grid;grid-template-rows:auto 1fr;background:var(--bg);color:var(--text);
       font-family:system-ui,"Noto Sans TC",sans-serif;overflow:hidden;}
  header{display:flex;gap:8px;align-items:center;flex-wrap:wrap;padding:8px 12px;
         border-bottom:1px solid var(--border);background:#0b152a;z-index:2;}
  header h1{margin:0 6px 0 0;font-size:15px}
  select,button{background:var(--panel);border:1px solid var(--border);color:var(--text);
    border-radius:10px;padding:6px 10px;font-size:14px;cursor:pointer}
  button[disabled]{opacity:.5;cursor:not-allowed}
  .wrap{position:relative;min-height:0;display:flex;justify-content:center;align-items:center;padding:8px;}
  .board{background:#07101f;border-radius:14px;box-shadow:0 6px 24px rgba(0,0,0,.45), inset 0 0 0 1px var(--border);
    display:flex;align-items:center;justify-content:center;position:relative;transition:transform .35s ease;}
  svg{width:96%;height:96%;display:block;touch-action:none}
  .draggable{cursor:grab}
  .dragging{cursor:grabbing;filter:drop-shadow(0 6px 10px rgba(0,0,0,.5))}
  .overlay{position:absolute;inset:0;background:rgba(0,0,0,.1);display:none}
  .overlay.playing{display:block}
  .copyright{position:absolute;right:10px;bottom:5px;font-size:12px;color:#aab8d6;opacity:.8;}
</style>
</head>
<body>
<header id="topbar">
  <h1>羽球戰術討論板</h1>

  <label>模式：
    <select id="mode">
      <option value="singles">單打</option>
      <option value="doubles" selected>雙打</option>
    </select>
  </label>

  <button id="resetBtn"  title="重置位置">重置</button>
  <button id="rotateBtn" title="旋轉90°檢視">旋轉90°</button>

  <!-- 記錄 / 回放 -->
  <button id="recStartBtn">開始記錄</button>
  <button id="recStopBtn"  disabled>結束記錄</button>
  <button id="playBtn"     disabled>回放</button>
</header>

<div class="wrap" id="wrap">
  <div class="board" id="board">
    <div class="overlay" id="playOverlay" title="播放中…"></div>
    <svg id="court" viewBox="0 0 6500 13800" aria-label="Badminton Tactics Board">
      <defs>
        <linearGradient id="g" x1="0" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#165a4a"/><stop offset="100%" stop-color="#1e6f5c"/>
        </linearGradient>
        <pattern id="netgrid" width="140" height="140" patternUnits="userSpaceOnUse">
          <path d="M0 0H140M0 0V140" stroke="#e5e7eb" stroke-opacity=".55" stroke-width="10"/>
        </pattern>
      </defs>

      <!-- 場地 -->
      <rect x="200" y="200" width="6100" height="13400" rx="20" fill="url(#g)"/>
      <g stroke="#ffffff" stroke-width="60" fill="none">
        <rect x="200" y="200" width="6100" height="13400"/>
        <rect x="660" y="200" width="5180" height="13400"/>
        <line x1="200" y1="4920" x2="6300" y2="4920"/>
        <line x1="200" y1="8880" x2="6300" y2="8880"/>
        <line x1="200" y1="960"  x2="6300" y2="960"/>
        <line x1="200" y1="12840" x2="6300" y2="12840"/>
        <line x1="3250" y1="200"  x2="3250" y2="4920"/>
        <line x1="3250" y1="8880" x2="3250" y2="13600"/>
      </g>

      <!-- 網帶 -->
      <g id="net">
        <rect x="200" y="6770" width="6100" height="260" fill="#2a2945" opacity="0.9"/>
        <rect x="200" y="6770" width="6100" height="260" fill="url(#netgrid)" opacity="0.9"/>
        <rect x="200" y="6760" width="6100" height="40" fill="#fff"/>
      </g>

      <!-- A隊：red.png -->
      <g id="A1" class="draggable" data-role="A1" transform="translate(3250,10800)">
        <image x="-400" y="-400" width="800" height="800" preserveAspectRatio="xMidYMid meet"
               href="red.png" xlink:href="red.png"/>
      </g>
      <g id="A2" class="draggable" data-role="A2" transform="translate(3250,9000)">
        <image x="-400" y="-400" width="800" height="800" preserveAspectRatio="xMidYMid meet"
               href="red.png" xlink:href="red.png"/>
      </g>

      <!-- B隊：blue.png -->
      <g id="B1" class="draggable" data-role="B1" transform="translate(3250,4800)">
        <image x="-400" y="-400" width="800" height="800" preserveAspectRatio="xMidYMid meet"
               href="blue.png" xlink:href="blue.png"/>
      </g>
      <g id="B2" class="draggable" data-role="B2" transform="translate(3250,3200)">
        <image x="-400" y="-400" width="800" height="800" preserveAspectRatio="xMidYMid meet"
               href="blue.png" xlink:href="blue.png"/>
      </g>

      <!-- 羽球：shuttle.png -->
      <g id="SHUTTLE" class="draggable" data-role="S" transform="translate(3250,6500)">
        <image x="-450" y="-450" width="900" height="900"
               preserveAspectRatio="xMidYMid meet"
               href="shuttle.png" xlink:href="shuttle.png"/>
      </g>
    </svg>

    <div class="copyright">Design by Kunta</div>
  </div>
</div>

<script>
/* 原本的 JS 保留即可（開始記錄、結束記錄、回放），這裡省略展示 */
</script>
</body>
</html>
